<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style media="screen">
        canvas {
            border: 1px black solid;
        }
    </style>
    <!-- guagame 相关文件 -->
    <script src='guagame/utils.js'></script>
    <script src='guagame/guagame.js'></script>
    <script src='guagame/gua_scene.js'></script>
    <script src='guagame/gua_image.js'></script>
    <!-- 游戏元素相关 -->
    <script src="scene/title/scene_title.js"></script>
    <script src="scene/main/scene.js"></script>
    <script src='scene/main/paddle.js'></script>
    <script src='scene/main/ball.js'></script>
    <script src='scene/main/block.js'></script>
    <script src='scene/main/bullet.js'></script>
    <script src='scene/main/cloud.js'></script>
    <script src='scene/main/enemy.js'></script>
    <script src='scene/main/player.js'></script>
    <script src="scene/end/scene_end.js"></script>

    <script src='level.js'></script>

</head>

<body>
    <canvas id="id-canvas" width="400" height="700"></canvas>
    <hr>
    <input id=id-input-speed type="range" value="1">
    <!-- <div class="">
        <textarea id="id-text-log" rows="20" cols="50"></textarea>
    </div> -->

    <div class="class">
        <label>
            <input class="gua-auto-slider" type = "range"
            value=""
            data-value = "config.player_speed"
            >
            玩家速度:<span class="gua-label"></span>
        </label>
    </div>
    <div class="class">
        <label>
            <input class="gua-auto-slider" type = "range"
            value=""
            data-value = "config.bullet_speed"
            >
            bullet速度:<span class="gua-label"></span>
        </label>
    </div>
    <div class="class">
        <label>
            <input class="gua-auto-slider" type = "range"
            value=""
            data-value = "config.enemy_speed"
            >
            enemy速度:<span class="gua-label"></span>
        </label>
    </div>
    <div class="class">
        <label>
            <input class="gua-auto-slider" type = "range"
            value=""
            min = -10
            max = 10
            data-value = "config.cloud_speed"
            >
            cloud速度:<span class="gua-label"></span>
        </label>
    </div>
    <script>
        var es = sel => document.querySelectorAll(sel)

        var bindAll = function(sel,eventName,callback) {
            var l = es(sel)
            for(var i = 0;i < l.length;i++)
            {
                var input = l[i]
                input.addEventListener(eventName,function(event) {
                    callback(event)
                })
            }
        }
        bindAll('.gua-auto-slider','input',function(event){
            var target = event.target 
            var bindVar = target.dataset.value
            var v = target.value
            eval(bindVar + '=' + v)
            var label =  target.closest('label').querySelector('.gua-label')
            label.innerText = v
        })
    </script>
    <script src="main.js"></script>
</body>

</html>